<section
  class="header relative items-center flex justify-center w-full"
  style="
    height: 100vh !important;
    background-image: url('../../../assets/img/919154.jpg');
    object-fit: cover;
    background-size: cover;
    background-position: center;
  "
>
  <div
    class="container mx-auto items-center flex w-full justify-center text-center"
  >
    <div class="flex flex-col items-center justify-center">
      <div class="">
        <h2 class="font-semibold text-4xl text-white">
          <span style="color: white">T A N A Q O L</span> - Book Your Ride,
          Anytime, Anywhere!
        </h2>
        <p class="mt-4 text-lg leading-relaxed text-white">
          Welcome to TANAQOL, your trusted platform for booking transport
          effortlessly. Whether you need a quick city ride, a long-distance
          trip, or an airport transfer, we make travel simple and stress-free.
        </p>
        <div class="mt-12">
          <a
            href="https://www.creative-tim.com/learning-lab/tailwind/angular/overview/notus?ref=na-index-page"
            target="_blank"
            style="background-color: white; color: black"
            class="get-started text-white font-bold px-6 py-4 rounded outline-none focus:outline-none mr-1 mb-1 uppercase text-sm shadow hover:shadow-lg ease-linear transition-all duration-150"
          >
            Get started
          </a>
          <a
            href="https://github.com/creativetimofficial/notus-angular?ref=creativetim"
            class="github-star ml-1 text-white font-bold px-6 py-4 rounded outline-none focus:outline-none mr-1 mb-1 bg-black active:bg-blueGray-600 uppercase text-sm shadow hover:shadow-lg ease-linear transition-all duration-150"
            target="_blank"
          >
            About us
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="md:mt-40 relative" id="about-us" style="height: 100vh">
  <div class="container mx-auto">
    <h2 class="font-semibold text-4xl text-black text-center">
      <span style="color: black"> T A N A Q O L</span> - About us!
    </h2>
    <div class="flex flex-wrap items-center mt-48">
      <div
        class="w-10/12 md:w-6/12 lg:w-4/12 px-12 md:px-4 mr-auto ml-auto -mt-32"
      >
        <div
          class="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded-lg"
          style="background-color: black"
        >
          <img
            alt="..."
            src="../../../assets/img/2009-Ford-Focus-RS-011-1080.jpg"
            class="w-full align-middle rounded-t-lg"
          />
          <blockquote class="relative p-8 mb-4">
            <svg
              preserveAspectRatio="none"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 583 95"
              class="absolute left-0 w-full block h-95-px -top-94-px"
            >
              <polygon
                points="-30,95 583,95 583,65"
                class="fill-current"
                style="color: #11a104"
              ></polygon>
            </svg>
            <h4 class="text-xl font-bold text-white">
              Great for your awesome project
            </h4>
            <p class="text-md font-light mt-2 text-white">
              Putting together a page has never been easier than matching
              together pre-made components. From landing pages presentation to
              login areas, you can easily customise and built your pages.
            </p>
          </blockquote>
        </div>
      </div>

      <div class="w-full md:w-6/12 px-4">
        <div class="flex flex-wrap">
          <div class="w-full md:w-6/12 px-4">
            <div class="relative flex flex-col mt-4">
              <div class="px-4 py-5 flex-auto">
                <div
                  class="text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full"
                  style="background-color: #11a104"
                >
                  <i class="fa-solid fa-file"></i>
                </div>
                <h6 class="text-xl mb-1 font-semibold text-dark">
                  Our Mission
                </h6>
                <p class="mb-4 text-blueGray-500">
                  To bring hunters together from around the globe, fostering a
                  community that celebrates skill
                </p>
              </div>
            </div>
            <div class="relative flex flex-col min-w-0">
              <div class="px-4 py-5 flex-auto">
                <div
                  class="text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full"
                  style="background-color: #11a104"
                >
                  <i class="fa-solid fa-car"></i>
                </div>
                <h6 class="text-xl mb-1 font-semibold text-dark">
                  What We Offer
                </h6>
                <p class="mb-4 text-blueGray-500">
                  A platform to showcase achievements and build your reputation.
                </p>
              </div>
            </div>
          </div>
          <div class="w-full md:w-6/12 px-4">
            <div class="relative flex flex-col min-w-0 mt-4">
              <div class="px-4 py-5 flex-auto">
                <div
                  class="text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full"
                  style="background-color: #11a104"
                >
                  <i class="fa-solid fa-credit-card"></i>
                </div>
                <h6 class="text-xl mb-1 font-semibold text-dark">Our Values</h6>
                <p class="mb-4 text-blueGray-500">
                  This extension also comes with 3 sample pages. They are fully
                  coded so you can start working instantly.
                </p>
              </div>
            </div>
            <div class="relative flex flex-col min-w-0">
              <div class="px-4 py-5 flex-auto">
                <div
                  class="text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full"
                  style="background-color: #11a104"
                >
                  <i class="fa-solid fa-users"></i>
                </div>
                <h6 class="text-xl mb-1 font-semibold text-dark">Our Story</h6>
                <p class="mb-4 text-blueGray-500">
                  Built by developers for developers. You will love how easy is
                  to to work with Notus Angular.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- <app-ride-options></app-ride-options> -->
</section>

<div class="ride-booking-container">
  <!-- Loading Overlay -->
  <div *ngIf="isLoading" class="loading-overlay">
    <div class="spinner"></div>
    <p>Processing your request...</p>
  </div>

  <!-- Header Section -->
  <header class="ride-header">
    <h1>Book Your Ride</h1>
    <p>Explore Morocco with ease - Find your perfect ride now!</p>
  </header>

  <!-- Search and Booking Section -->
  <div class="booking-section">
    <div class="location-inputs">
      <!-- Pickup Input -->
      <div class="input-container pickup-container">
        <i class="pi pi-map-marker pickup-icon"></i>
        <input
          [(ngModel)]="pickupQuery"
          (input)="onPickupChange()"
          placeholder="Enter pickup location"
          class="location-input"
        />
        <!-- Pickup Suggestions -->
        <div *ngIf="pickupQuery && pickupSuggestions.length" class="suggestions pickup-suggestions">
          <div
            *ngFor="let suggestion of pickupSuggestions"
            (click)="onSelectPickup(suggestion)"
            class="suggestion-item"
          >
            <i class="pi pi-map-marker"></i>
            <span>{{ suggestion.name }}</span>
          </div>
        </div>
      </div>

      <!-- Destination Input -->
      <div class="input-container destination-container">
        <i class="pi pi-flag destination-icon"></i>
        <input
          [(ngModel)]="destinationQuery"
          (input)="onDestinationChange()"
          placeholder="Enter destination"
          class="location-input"
        />
        <!-- Destination Suggestions -->
        <div *ngIf="destinationQuery && destinationSuggestions.length" class="suggestions destination-suggestions">
          <div
            *ngFor="let suggestion of destinationSuggestions"
            (click)="onSelectDestination(suggestion)"
            class="suggestion-item"
          >
            <i class="pi pi-flag"></i>
            <span>{{ suggestion.name }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Ride Options -->
    <div class="ride-options-section">
      <form [formGroup]="bookingForm" class="ride-form">
        <div class="form-group">
          <label>Ride Type</label>
          <p-dropdown
            [options]="rideOptions"
            formControlName="rideType"
            (onChange)="onRideTypeChange($event)"
            optionLabel="label"
            optionValue="value"
            [style]="{'width':'100%'}"
          ></p-dropdown>
        </div>

        <!-- Estimated Price and Distance -->
        <div *ngIf="selectedPickup && selectedDestination" class="estimate-container">
          <div class="estimate-box">
            <div class="estimate-label">Distance</div>
            <div class="estimate-value">{{ estimatedDistance | number:'1.1-1' }} km</div>
          </div>
          <div class="estimate-box">
            <div class="estimate-label">Estimated Price</div>
            <div class="estimate-value">{{ estimatedPrice | currency:'MAD':'symbol':'1.0-0' }}</div>
          </div>
        </div>

        <!-- Book Now Button -->
        <button
          pButton
          type="button"
          label="Book Now"
          [disabled]="!selectedPickup || !selectedDestination || isLoading"
          class="p-button-raised p-button-rounded book-button"
          (click)="bookRide()"
        ></button>
      </form>
    </div>
  </div>

  <!-- Map Section -->
  <div class="map-container">
    <google-map
      #map
      [center]="mapCenter"
      [zoom]="mapZoom"
      width="100%"
      height="450px"
      [options]="{
        mapTypeControl: false,
        streetViewControl: false,
        fullscreenControl: true,
        zoomControl: true,
        styles: [
          {
            featureType: 'poi',
            elementType: 'labels',
            stylers: [{ visibility: 'off' }]
          }
        ]
      }"
    >
      <!-- Route Path -->
      <map-polyline
        *ngIf="routePath.length > 0"
        [path]="routePath"
        [options]="polylineOptions"
      ></map-polyline>

      <!-- Markers -->
      <map-marker
        *ngFor="let marker of mapMarkers"
        [position]="marker.position"
        [title]="marker.title"
        [options]="{ icon: marker.icon }"
      ></map-marker>
    </google-map>
  </div>

  <!-- Info Section -->
  <div class="info-section">
    <div class="info-card">
      <i class="pi pi-check-circle"></i>
      <h3>Reliable Service</h3>
      <p>Professional drivers and well-maintained vehicles for a comfortable journey.</p>
    </div>
    <div class="info-card">
      <i class="pi pi-dollar"></i>
      <h3>Fair Pricing</h3>
      <p>Transparent pricing with no hidden fees. Pay only for what you see.</p>
    </div>
    <div class="info-card">
      <i class="pi pi-shield"></i>
      <h3>Safe Travel</h3>
      <p>Safety is our top priority with verified drivers and regular vehicle inspections.</p>
    </div>
  </div>

  <!-- Toast for notifications -->
  <p-toast></p-toast>
</div>



<style>
/* Main Container */
.ride-booking-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  font-family: 'Roboto', Arial, sans-serif;
  color: #333;
}

/* Header Styles */
.ride-header {
  text-align: center;
  margin-bottom: 30px;
  padding: 20px 0;
  background: linear-gradient(135deg, #2193b0, #6dd5ed);
  border-radius: 10px;
  color: white;
}

.ride-header h1 {
  font-size: 2.5rem;
  margin-bottom: 10px;
  font-weight: 700;
}

.ride-header p {
  font-size: 1.1rem;
  opacity: 0.9;
}

/* Booking Section */
.booking-section {
  display: flex;
  flex-direction: column;
  gap: 20px;
  background: white;
  padding: 25px;
  border-radius: 12px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  margin-bottom: 30px;
}

/* Location Inputs */
.location-inputs {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.input-container {
  position: relative;
}

.location-input {
  width: 100%;
  padding: 15px 15px 15px 45px;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: 1rem;
  transition: border-color 0.3s, box-shadow 0.3s;
}

.location-input:focus {
  border-color: #2193b0;
  box-shadow: 0 0 0 2px rgba(33, 147, 176, 0.2);
  outline: none;
}

.pickup-icon, .destination-icon {
  position: absolute;
  left: 15px;
  top: 50%;
  transform: translateY(-50%);
  color: #666;
}

.pickup-icon {
  color: #4CAF50;
}

.destination-icon {
  color: #F44336;
}

/* Suggestions */
.suggestions {
  position: absolute;
  width: 100%;
  background: white;
  border: 1px solid #ddd;
  border-radius: 8px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  max-height: 200px;
  overflow-y: auto;
  z-index: 1000;
}

.suggestion-item {
  padding: 10px 15px;
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  transition: background-color 0.2s;
}

.suggestion-item:hover {
  background-color: #f5f5f5;
}

.suggestion-item i {
  width: 20px;
  text-align: center;
}

/* Ride Options */
.ride-options-section {
  padding-top: 15px;
}

.ride-form {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.form-group label {
  font-weight: 500;
  color: #555;
}

/* Estimate Container */
.estimate-container {
  display: flex;
  gap: 15px;
  margin-top: 10px;
}

.estimate-box {
  flex: 1;
  padding: 15px;
  background-color: #f9f9f9;
  border-radius: 8px;
  text-align: center;
}

.estimate-label {
  font-size: 0.9rem;
  color: #666;
  margin-bottom: 5px;
}

.estimate-value {
  font-size: 1.2rem;
  font-weight: 700;
  color: #2193b0;
}

/* Book Button */
.book-button {
  width: 100%;
  padding: 15px;
  margin-top: 10px;
  background: linear-gradient(135deg, #2193b0, #6dd5ed);
  border: none;
  font-weight: 600;
  font-size: 1.1rem;
  transition: transform 0.2s, box-shadow 0.2s;
}

.book-button:enabled:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(33, 147, 176, 0.3);
}

.book-button:disabled {
  background: #cccccc;
  cursor: not-allowed;
}

/* Map Container */
.map-container {
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  margin-bottom: 30px;
}

/* Info Section */
.info-section {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}

.info-card {
  background-color: white;
  padding: 25px;
  border-radius: 12px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  text-align: center;
  transition: transform 0.3s;
}

.info-card:hover {
  transform: translateY(-5px);
}

.info-card i {
  font-size: 2rem;
  color: #2193b0;
  margin-bottom: 15px;
}

.info-card h3 {
  font-size: 1.2rem;
  margin-bottom: 10px;
  color: #333;
}

.info-card p {
  color: #666;
  line-height: 1.5;
}

/* Loading Overlay */
.loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(255, 255, 255, 0.8);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

.spinner {
  border: 5px solid #f3f3f3;
  border-top: 5px solid #2193b0;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  animation: spin 1s linear infinite;
  margin-bottom: 15px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Responsive Adjustments */
@media (min-width: 768px) {
  .location-inputs {
    flex-direction: row;
  }

  .input-container {
    flex: 1;
  }

  .pickup-container {
    margin-right: 10px;
  }
}

@media (max-width: 767px) {
  .ride-header h1 {
    font-size: 2rem;
  }

  .booking-section {
    padding: 20px 15px;
  }

  .estimate-container {
    flex-direction: column;
    gap: 10px;
  }
}

</style>
